### 定义
- 若干独立计算机的集合，这些计算机对用户来说**像单个相关系统**
  - 硬件独立：计算机本身是独立的
  - 软件统一
    - 对用户来说**像单个相关系统**
    - 扩展和升级都比较容易
    
### 挑战
- 异构性：一般由中间件来处理差异
- 缺乏全球时钟
- 一致性
- 故障的独立性：高可用
- 并发：每个资源在并发环境中都要是安全的
- 透明性：对用户透明
- 开放性：接口的发布必须遵循一致的规范并能相互理解
- 安全性
- 可扩展性

### I/O模型
- 同步和异步：描述用户线程与内核的**交互方式**
  - 同步：用户线程发起IO请求后需要等待或者轮询内核IO操作完成后才能继续执行
  - 异步：用户线程发起IO请求后继续执行，内核IO操作完成后通知
- 阻塞和非阻塞：描述用户线程**调用**内核IO操作的方式
  - 阻塞：IO操作需要彻底完成才回到用户空间
  - 非阻塞：IO操作后立即返回给用户一个状态值，无需等到IO操作彻底完成
- 一个I/O操作分为2步：**发起I/O请求**和**实际的I/O操作**
  - 阻塞非阻塞区别在于**发起I/O请求是否会被阻塞**
  - 同步异步的区别在于**实际的I/O操作是否会阻塞请求进程**
- Unix下的5种I/O模型
  - 阻塞I/O模型：请求无法立即完成，保持阻塞
    - 阶段1：等待数据就绪：等待远端数据到达或者磁盘上的数据读取到内核态内存
    - 阶段2：数据复制：内核把内核态内存中的数据复制一份到用户态
  - 非阻塞I/O模型：很少直接用这种模型
    - 请求的I/O无法完成时，立刻返回一个错误码，这样就不会阻塞
    - I/O操作函数不断测试是否已准备好，轮询
    - 数据准备好了，从内核复制到用户空间
  - I/O复用模型(select poll)：改进了非阻塞I/O模型
    - 在select poll上阻塞，而不是阻塞于真正的I/O系统调用
    - select poll可以阻塞多个I/O操作，轮询直到有数据时才真正调用I/O操作函数
    - 使用了Reactor模式，一个用户态线程轮询多个socket，直到阶段1的数据就绪，再通知实际的用户线程执行阶段2的复制操作，模拟了阶段1的异步化
  - 信号驱动I/O(SIGIO)模型
    - 首先socket进行信号驱动I/O，并调用sigaction来安装信号处理函数，然后进程继续运行不阻塞
    - 数据准备好时，进程收到一个SIGIO信号，可在信号处理函数中读取数据通知主循环处理或者通知主循环来读取
  - 异步I/O模型
    - SIGIO模型告诉我们I/O操作何时可以**启动**，而异步I/O告诉我们I/O操作何时**完成**
- Java的I/O模型
  - BIO
  - NIO：同步非阻塞
  - NIO.2：异步
  
### 一致性
- 以数据为中心的一致性
  - 严格一致性
  - 持续一致性
    - 副本间的数值偏差
    - 副本之间的新旧程度偏差
    - 更新操作顺序的偏差
  - 顺序一致性
  - 因果一致性
  - 入口一致性
- 以客户为中心的一致性
  - 单调读一致性
  - 单调写一致性
  - 读写一致性
  - 写读一致性
