### 对比
- 垂直切分
  - 规则简单，实施方便
  - 部分业务无法join，只能通过接口方式解决
  - 受每种业务不同的限制存在单库性能瓶颈，不易数据扩展跟性能提高
- 水平切分
  - 规则复制，维护复杂
  - Join操作基本可以数据库做
  - 不存在单库大数据和高并发性能瓶颈
  - 拆分规则难以抽象；分片事物一致性难以解决；数据多次扩展跟维护量极大；跨库Join性能较差

### 技术难点
- 分布式全局唯一ID
  - 数据库自增：针对同一张表，在每个数据库建表的时候设置步长（step）
  - UUID/GUID
  - Redis Increment
  - MongoDB ObjectId(类似UUID的方式)
  - Zookeeper分布式锁
  - Twitter的Snowflake（又叫雪花算法）
  - Ticket Server（数据库生存方式，Flickr采用的就是这种方式）
- 分片规则和策略
  - 分片字段的选择
  - 分片规则
  - 数据迁移、容量规划，扩容等
- 跨分片技术问题
  - 排序、分页
  - 函数处理
  - join
- 事务问题
  - 强一致性
  - 弱一致性、最终一致性
