## 并发问题
- 重排
  - 编译器优化
  - 指令重排
  - 内存系统重排
- 内存可见性
  - 所有的共享变量存在于主内存中
  - 每个线程有自己的本地内存
- 原子性
  - 对引用的读写永远是原子性的
  - 64位的值的写，可分为2个32位写
  
## happens-before
- x happens-before y，并不是说 x 操作一定要在 y 操作之前被执行，而是说 x 的执行结果对于 y 是可见的，只要满足**可见性**，发生了重排序也是可以的
